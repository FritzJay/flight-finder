(this["webpackJsonpflight-finder"]=this["webpackJsonpflight-finder"]||[]).push([[0],{107:function(e,a,t){},109:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(26),c=t(11),i=t.n(c),o=(t(107),t(54)),u=t(161),s=t(172),m=t(173),d=t(169),p=t(110),g=t(184),f=t(174),h=t(181),E=t(171),b=t(111),v=t(175),y=t(34),S=t.n(y),O=t(44),j=t(21),T=t(170),C=t(188),w=t(17),N=t(176),x=t(81),k=t(20),F=t(180),I=t(177),_=t(160),D=function(e){var a=e.value,t=e.handleChange,n=e.label,l=r.a.useState([]),c=Object(j.a)(l,2),i=c[0],o=c[1],u=r.a.useState(!1),s=Object(j.a)(u,2),m=s[0],d=s[1],p=function(){var e=Object(O.a)(S.a.mark((function e(a){var t,n,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==a.target.value){e.next=2;break}return e.abrupt("return");case 2:return d(!0),e.next=5,fetch("".concat("https://fritzjay-flight-finder-api.herokuapp.com",'/airports?queryparams={"searchString":"').concat(a.target.value,'"}'));case 5:return t=e.sent,e.next=8,t.json();case 8:n=e.sent,r=[],n.forEach((function(e){var a=e.Display,t=e.nearbyAirports,n=e.LocID;null===t||void 0===t||t.forEach((function(e){var t=e.code,l=e.name;return r.push({code:t,name:l,locID:n,city:a})})),o([].concat(r)),d(!1)}));case 11:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement(I.a,{id:n.toLowerCase().replace(" ","-"),getOptionSelected:function(e,a){return e.name===a.name},getOptionLabel:function(e){return"".concat(e.code.toLocaleUpperCase()," - ").concat(e.name)},freeSolo:!0,clearOnEscape:!0,value:a,onChange:function(e,a){t(a)},options:i,loading:m,groupBy:function(e){return e.city},renderInput:function(e){return r.a.createElement(F.a,Object.assign({},e,{label:n,required:!0,variant:"outlined",onChange:p,InputProps:Object(k.a)({},e.InputProps,{endAdornment:r.a.createElement(r.a.Fragment,null,m?r.a.createElement(_.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment)})}))}})},L=t(183),R=t(162),A=t(163),B=t(164),P=t(165),M=t(166),W=t(187),q=t(167),z=t(168),G=t(179);function U(e,a,t){return a[t]<e[t]?-1:a[t]>e[t]?1:0}var V=[{id:"airline",numeric:!1,label:"Airline"},{id:"cabin",numeric:!1,label:"Cabin"},{id:"grade",numeric:!1,label:"Grade"},{id:"duration",numeric:!1,label:"Duration"},{id:"stops",numeric:!0,label:"Stops"},{id:"fare",numeric:!0,label:"Fare"}],H=V.length,J=Object(u.a)((function(e){return Object(L.a)({visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1},selected:{backgroundColor:e.palette.primary.light,color:e.palette.primary.contrastText}})})),Y=function(e){var a=e.data,t=e.loading,l=J(),c=Object(n.useState)("asc"),i=Object(j.a)(c,2),o=i[0],u=i[1],s=Object(n.useState)("fare"),m=Object(j.a)(s,2),d=m[0],p=m[1],g=Object(n.useState)(0),f=Object(j.a)(g,2),h=f[0],E=f[1],v=Object(n.useState)(10),y=Object(j.a)(v,2),S=y[0],O=y[1],T=Object(n.useState)(null),C=Object(j.a)(T,2),w=C[0],N=C[1];return r.a.createElement(R.a,null,r.a.createElement(b.a,{variant:"h6",style:{margin:"2rem"}},"Available Flights"),r.a.createElement(A.a,{size:"small","aria-label":"available flights"},r.a.createElement(B.a,null,r.a.createElement(P.a,null,V.map((function(e){var a=e.id,t=e.label,n=e.numeric;return r.a.createElement(M.a,{key:a,align:n?"right":"left",sortDirection:d===a&&o},r.a.createElement(W.a,{active:d===a,direction:d===a?o:"asc",onClick:function(){return u(d===(e=a)&&"asc"===o?"desc":"asc"),void p(e);var e}},t,d===a?r.a.createElement("span",{className:l.visuallyHidden},"desc"===o?"sorted descending":"sorted ascending"):null))})))),r.a.createElement(q.a,null,0===a.length&&!t&&r.a.createElement(P.a,{tabIndex:-1},r.a.createElement(M.a,{colSpan:H},"There are no flights available at this time.")),t?r.a.createElement(P.a,null,r.a.createElement(M.a,{colSpan:H,style:{textAlign:"center"}},r.a.createElement(_.a,{size:36}))):function(e,a){var t=e.map((function(e,a){return[e,a]}));return t.sort((function(e,t){var n=a(e[0],t[0]);return 0!==n?n:e[1]-t[1]})),t.map((function(e){return e[0]}))}(a,function(e,a){return"desc"===e?function(e,t){return U(e,t,a)}:function(e,t){return-U(e,t,a)}}(o,d)).slice(h*S,h*S+S).map((function(e){var a=e.id,t=e.airline,n=e.grade,c=e.duration,i=e.stops,o=e.fare,u=e.cabin;return r.a.createElement(P.a,{hover:w!==a,className:w===a?l.selected:"",onClick:function(){return N(w===a?null:a)},tabIndex:-1,key:a},r.a.createElement(M.a,null,t),r.a.createElement(M.a,{align:"left"},u),r.a.createElement(M.a,{align:"left"},n),r.a.createElement(M.a,{align:"left"},"".concat(Math.floor(c/60),"h ").concat(c%60,"m")),r.a.createElement(M.a,{align:"right"},i),r.a.createElement(M.a,{align:"right"},o.toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2})))}))),r.a.createElement(z.a,null,r.a.createElement(P.a,null,r.a.createElement(G.a,{colSpan:H,count:a.length,rowsPerPage:S,page:h,onChangePage:function(e,a){return E(a)},onChangeRowsPerPage:function(e){O(parseInt(e.target.value,10)),E(0)}})))))},$=function(){var e=Object(O.a)(S.a.mark((function e(a,t,n,r,l){var c,i,o;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://fritzjay-flight-finder-api.herokuapp.com"+"/flights?queryparams=".concat(K(a,t,n,r,l)));case 2:return c=e.sent,e.next=5,c.json();case 5:return i=e.sent,console.log(i),o=[],i.flights.forEach((function(e){var a=e.airlineName,t=e.flightGrade,n=e.duration,r=e.numStops;return e.fares.forEach((function(e){var l=e.totalFare,c=e.seatsBySegment,i=e.itineraryFlights;return o.push({id:i[0],airline:a,grade:t,duration:n,stops:r,fare:l,cabin:c.reduce((function(e,a){return"".concat(e,"/").concat(a.cabin)}),"").substring(1)})}))})),e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})));return function(a,t,n,r,l){return e.apply(this,arguments)}}(),K=function(e,a,t,n,r){var l=Q(e,a,t),c=X(n,r);return"{".concat(l,",").concat(c,',"airlineView":"DL","legNum":1}')},Q=function(e,a,t){return'"legs":[{"date":"'.concat(t.toISOString().split("T")[0],'",')+'"fromLocId":"'.concat(e.locID,'","toLocId":"').concat(a.locID,'"}]')},X=function(e,a){return'"filters":{"timeFilters":[{"departFromTime":"'.concat(e,'00","departToTime":"').concat(a,'00"}]}')},Z=$,ee={from:null,to:null,date:new Date(Date.now()),timeRange:[0,23]},ae=function(e){return 0===e?"12am":e>12?"".concat(e%12,"pm"):"".concat(e,"am")},te=function(){var e=r.a.useState(!1),a=Object(j.a)(e,2),t=a[0],n=a[1],c=r.a.useState(!1),i=Object(j.a)(c,2),o=i[0],u=i[1],s=r.a.useState([]),m=Object(j.a)(s,2),d=m[0],p=m[1],g=function(){var e=Object(l.b)();return Object(l.c)((function(a){return{from:a.flights.from,to:a.flights.to,date:a.flights.date,timeRange:a.flights.timeRange,handleToChange:function(a){return e(function(e){return{type:"SET_TO",payload:e}}(a))},handleFromChange:function(a){return e(function(e){return{type:"SET_FROM",payload:e}}(a))},handleDateChange:function(a){return e(function(e){return{type:"SET_DATE",payload:e}}(a))},handleTimeRangeChange:function(a){return e(function(e){return{type:"SET_TIME_RANGE",payload:e}}(a))}}}))}(),f=g.from,h=g.to,v=g.date,y=g.timeRange,k=g.handleToChange,F=g.handleFromChange,I=g.handleDateChange,_=g.handleTimeRangeChange,L=r.a.useCallback(Object(O.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==f&&null!==h&&null!==v){e.next=2;break}return e.abrupt("return");case 2:return u(!0),e.t0=p,e.next=6,Z(f,h,v,y[0],y[1]);case 6:e.t1=e.sent,(0,e.t0)(e.t1),u(!1);case 9:case"end":return e.stop()}}),e)}))),[f,h,v,y]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a,{container:!0,spacing:3,justify:"space-evenly"},r.a.createElement(T.a,{item:!0,xs:12,sm:6},r.a.createElement(D,{value:f,handleChange:F,label:"Flying from"})),r.a.createElement(T.a,{item:!0,xs:12,sm:6},r.a.createElement(D,{value:h,handleChange:k,label:"Destination"})),r.a.createElement(w.a,{utils:x.a},r.a.createElement(T.a,{item:!0,xs:12},r.a.createElement(N.a,{required:!0,label:"Departing Date",inputVariant:"outlined",value:v,onChange:I,showTodayButton:!0,style:{width:"100%"}})),r.a.createElement(T.a,{item:!0,xs:8,container:!0,justify:"center",alignItems:"center"},r.a.createElement(b.a,{variant:"subtitle2",align:"center"},ae(y[0])," - ",ae(y[1])),r.a.createElement(C.a,{value:y,onChange:function(e,a){return _(a)},step:1,min:0,max:23,marks:[{value:0,label:"12am"},{value:23,label:"11pm"}],valueLabelDisplay:"auto","aria-labelledby":"range-slider",getAriaValueText:ae})),r.a.createElement(T.a,{item:!0,xs:12},r.a.createElement(E.a,{variant:"contained",color:"secondary",disabled:o,onClick:function(){n(!0),L()}},"Search"))),r.a.createElement(T.a,{item:!0,xs:12},t&&r.a.createElement(Y,{data:d,loading:o}))))},ne={fName:null,lName:null,so:null},re=function(){var e=function(){var e=Object(l.b)();return Object(l.c)((function(a){return{fName:a.information.fName,lName:a.information.lName,so:a.information.so,handleFirstNameChange:function(a){return e({type:"SET_FIRST_NAME",payload:""===a.target.value?null:a.target.value})},handleLastNameChange:function(a){return e({type:"SET_LAST_NAME",payload:""===a.target.value?null:a.target.value})},handleSOChange:function(a){return e({type:"SET_SO",payload:""===a.target.value?null:a.target.value})}}}))}(),a=e.fName,t=e.lName,n=e.so,c=e.handleFirstNameChange,i=e.handleLastNameChange,o=e.handleSOChange;return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{variant:"h6",gutterBottom:!0},"Your Information"),r.a.createElement(T.a,{container:!0,spacing:3},r.a.createElement(T.a,{item:!0,xs:12,sm:6},r.a.createElement(F.a,{required:!0,id:"firstName",name:"firstName",label:"First name",fullWidth:!0,autoComplete:"fname",value:a||"",onChange:c})),r.a.createElement(T.a,{item:!0,xs:12,sm:6},r.a.createElement(F.a,{required:!0,id:"lastName",name:"lastName",label:"Last name",fullWidth:!0,autoComplete:"lname",value:t||"",onChange:i})),r.a.createElement(T.a,{item:!0,xs:12},r.a.createElement(F.a,{required:!0,id:"so",name:"so",label:"SO",fullWidth:!0,autoComplete:"so",value:n||"",onChange:o}))))},le=function(e){return{type:"SET_STEP",payload:e}},ce={step:0},ie=Object(u.a)((function(e){return{appBar:{position:"relative"},layout:Object(o.a)({width:"auto",marginLeft:e.spacing(2),marginRight:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(2)),{width:800,marginLeft:"auto",marginRight:"auto"}),paper:Object(o.a)({marginTop:e.spacing(3),marginBottom:e.spacing(3),padding:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(3)),{marginTop:e.spacing(6),marginBottom:e.spacing(6),padding:e.spacing(3)}),stepper:{padding:e.spacing(3,0,5)},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)}}})),oe=["Information","Flights","Lodging","Car Rentals"],ue=function(){var e=ie(),a=function(){var e=Object(l.b)();return Object(l.c)((function(a){return{step:a.system.step,handleNext:function(){return e(le(a.system.step+1))},handleBack:function(){return e(le(a.system.step-1))}}}))}(),t=a.step,n=a.handleBack,c=a.handleNext;return r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,null),r.a.createElement(m.a,{position:"absolute",color:"default",className:e.appBar},r.a.createElement(d.a,null,r.a.createElement(b.a,{variant:"h6",color:"inherit",noWrap:!0},"Flight Finder"))),r.a.createElement("main",{className:e.layout},r.a.createElement(p.a,{className:e.paper},r.a.createElement(b.a,{component:"h1",variant:"h4",align:"center"},"Book Flights"),r.a.createElement(g.a,{activeStep:t,className:e.stepper},oe.map((function(e){return r.a.createElement(f.a,{key:e},r.a.createElement(h.a,null,e))}))),r.a.createElement(r.a.Fragment,null,t===oe.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{variant:"h5",gutterBottom:!0},"Thank you for your order."),r.a.createElement(b.a,{variant:"subtitle1"},"Your order number is #2001539. We have emailed your order confirmation, and will send you an update when your order has shipped.")):r.a.createElement(r.a.Fragment,null,function(e){switch(e){case 0:return r.a.createElement(re,null);case 1:return r.a.createElement(te,null);case 2:return r.a.createElement("div",null,"Lodging");case 3:return r.a.createElement("div",null,"Car Rentals");default:throw new Error("Unknown step")}}(t),r.a.createElement("div",{className:e.buttons},0!==t&&r.a.createElement(E.a,{onClick:n,className:e.button},"Back"),r.a.createElement(E.a,{variant:"contained",color:"primary",onClick:c,className:e.button},t===oe.length-1?"Place order":"Next"))))),r.a.createElement(b.a,{variant:"body2",color:"textSecondary",align:"center"},"Powered By ",r.a.createElement(v.a,{color:"inherit",href:"https://www.certify.com/"},"Certify Travel"))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var se=t(43),me=t(80),de=Object(se.combineReducers)({system:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_STEP":return Object(k.a)({},e,{step:a.payload});default:return e}},flights:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_FROM":return Object(k.a)({},e,{from:a.payload});case"SET_TO":return Object(k.a)({},e,{to:a.payload});case"SET_DATE":return Object(k.a)({},e,{date:a.payload});case"SET_TIME_RANGE":return Object(k.a)({},e,{timeRange:a.payload});default:return e}},information:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_FIRST_NAME":return Object(k.a)({},e,{fName:a.payload});case"SET_LAST_NAME":return Object(k.a)({},e,{lName:a.payload});case"SET_SO":return Object(k.a)({},e,{so:a.payload});default:return e}}}),pe=Object(se.createStore)(de,Object(me.composeWithDevTools)());i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(l.a,{store:pe},r.a.createElement(ue,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},98:function(e,a,t){e.exports=t(109)}},[[98,1,2]]]);
//# sourceMappingURL=main.b8f5175c.chunk.js.map