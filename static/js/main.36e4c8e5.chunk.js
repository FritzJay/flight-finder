(this["webpackJsonpflight-finder"]=this["webpackJsonpflight-finder"]||[]).push([[0],{106:function(e,t,a){e.exports=a(122)},122:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(21),c=a(11),i=a.n(c),o=a(55),u=a(174),s=a(187),m=a(188),d=a(182),g=a(87),p=a(197),f=a(189),h=a(195),E=a(184),b=a(126),v=a(185),y=a(18),S=function(e){return{type:"SET_STEP",payload:e}},T={step:0},O=a(34),C=a.n(O),j=a(46),F=a(31),N=a(183),x=a(201),k=a(83),w=a.n(k),L=a(17),_=a(190),D=a(86),I=a(194),A=a(193),R=a(173),B=function(e){var t=e.value,a=e.handleChange,n=e.label,l=r.a.useState([]),c=Object(F.a)(l,2),i=c[0],o=c[1],u=r.a.useState(!1),s=Object(F.a)(u,2),m=s[0],d=s[1],g=function(){var e=Object(j.a)(C.a.mark((function e(t){var a,n,r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t.target.value){e.next=2;break}return e.abrupt("return");case 2:return d(!0),e.next=5,fetch("".concat("https://fritzjay-flight-finder-api.herokuapp.com",'/airports?queryparams={"searchString":"').concat(t.target.value,'"}'));case 5:return a=e.sent,e.next=8,a.json();case 8:n=e.sent,r=[],n.forEach((function(e){var t=e.Display,a=e.nearbyAirports,n=e.LocID;null===a||void 0===a||a.forEach((function(e){var a=e.code,l=e.name;return r.push({code:a,name:l,locID:n,city:t})})),o([].concat(r)),d(!1)}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(A.a,{id:n.toLowerCase().replace(" ","-"),getOptionSelected:function(e,t){return e.name===t.name},getOptionLabel:function(e){return"".concat(e.code.toLocaleUpperCase()," - ").concat(e.name)},freeSolo:!0,clearOnEscape:!0,value:t,onChange:function(e,t){a(t)},options:i,loading:m,groupBy:function(e){return e.city},renderInput:function(e){return r.a.createElement(I.a,Object.assign({},e,{label:n,required:!0,variant:"outlined",onChange:g,InputProps:Object(y.a)({},e.InputProps,{endAdornment:r.a.createElement(r.a.Fragment,null,m?r.a.createElement(R.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment)})}))}})},P=a(196),M=a(175),G=a(176),U=a(177),q=a(178),z=a(179),H=a(200),W=a(180),V=a(181),J=a(192);function Y(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}var K=[{id:"airline",numeric:!1,label:"Airline"},{id:"cabin",numeric:!1,label:"Cabin"},{id:"grade",numeric:!1,label:"Grade"},{id:"duration",numeric:!1,label:"Duration"},{id:"stops",numeric:!0,label:"Stops"},{id:"fare",numeric:!0,label:"Fare"}],Q=K.length,X=Object(u.a)((function(e){return Object(P.a)({visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1},selected:{backgroundColor:e.palette.primary.light,color:e.palette.primary.contrastText}})})),Z=function(e){var t=e.data,a=e.loading,l=e.selectedFlight,c=e.handleSelectFlight,i=X(),o=Object(n.useState)("asc"),u=Object(F.a)(o,2),s=u[0],m=u[1],d=Object(n.useState)("fare"),g=Object(F.a)(d,2),p=g[0],f=g[1],h=Object(n.useState)(0),E=Object(F.a)(h,2),v=E[0],y=E[1],S=Object(n.useState)(10),T=Object(F.a)(S,2),O=T[0],C=T[1];return r.a.createElement(M.a,null,r.a.createElement(b.a,{variant:"h6",style:{margin:"1rem 1rem 1rem 2rem"}},"Available Flights"),r.a.createElement(G.a,{size:"small","aria-label":"available flights"},r.a.createElement(U.a,null,r.a.createElement(q.a,null,K.map((function(e){var t=e.id,a=e.label,n=e.numeric;return r.a.createElement(z.a,{key:t,align:n?"right":"left",sortDirection:p===t&&s},r.a.createElement(H.a,{active:p===t,direction:p===t?s:"asc",onClick:function(){return m(p===(e=t)&&"asc"===s?"desc":"asc"),void f(e);var e}},a,p===t?r.a.createElement("span",{className:i.visuallyHidden},"desc"===s?"sorted descending":"sorted ascending"):null))})))),r.a.createElement(W.a,null,0===t.length&&!a&&r.a.createElement(q.a,{tabIndex:-1},r.a.createElement(z.a,{colSpan:Q},"There are no flights available at this time.")),a?r.a.createElement(q.a,null,r.a.createElement(z.a,{colSpan:Q,style:{textAlign:"center"}},r.a.createElement(R.a,{size:36}))):function(e,t){var a=e.map((function(e,t){return[e,t]}));return a.sort((function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]})),a.map((function(e){return e[0]}))}(t,function(e,t){return"desc"===e?function(e,a){return Y(e,a,t)}:function(e,a){return-Y(e,a,t)}}(s,p)).slice(v*O,v*O+O).map((function(e){return r.a.createElement(q.a,{hover:(null===l||void 0===l?void 0:l.id)!==e.id,className:(null===l||void 0===l?void 0:l.id)===e.id?i.selected:"",onClick:function(){return(null===l||void 0===l?void 0:l.id)===e.id?c(null):c(e)},tabIndex:-1,key:e.id},r.a.createElement(z.a,null,e.airline),r.a.createElement(z.a,{align:"left"},e.cabin),r.a.createElement(z.a,{align:"left"},e.grade),r.a.createElement(z.a,{align:"left"},"".concat(Math.floor(e.duration/60),"h ").concat(e.duration%60,"m")),r.a.createElement(z.a,{align:"right"},e.stops),r.a.createElement(z.a,{align:"right"},e.fare.toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2})))}))),r.a.createElement(V.a,null,r.a.createElement(q.a,null,r.a.createElement(J.a,{colSpan:Q,count:t.length,rowsPerPage:O,page:v,onChangePage:function(e,t){return y(t)},onChangeRowsPerPage:function(e){C(parseInt(e.target.value,10)),y(0)}})))))},$=function(){var e=Object(j.a)(C.a.mark((function e(t,a,n,r,l){var c,i,o;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://fritzjay-flight-finder-api.herokuapp.com"+"/flights?queryparams=".concat(ee(t,a,n,r,l)));case 2:return c=e.sent,e.next=5,c.json();case 5:return i=e.sent,o=[],i.flights.forEach((function(e){var t=e.airlineName,a=e.flightGrade,n=e.duration,r=e.numStops,l=e.fares,c=e.segments;return l.forEach((function(e){var l=e.totalFare,i=e.seatsBySegment,u=e.itineraryFlights;return o.push({id:u[0],airline:t,grade:a,duration:n,stops:r,fare:l,cabin:i.reduce((function(e,t){return"".concat(e,"/").concat(t.cabin)}),"").substring(1),fromAirportCode:c[0].fromCode,toAirportCode:c[c.length-1].toCode})}))})),e.abrupt("return",o);case 9:case"end":return e.stop()}}),e)})));return function(t,a,n,r,l){return e.apply(this,arguments)}}(),ee=function(e,t,a,n,r){var l=te(e,t,a),c=ae(n,r);return"{".concat(l,",").concat(c,',"airlineView":"DL","legNum":1}')},te=function(e,t,a){return'"legs":[{"date":"'.concat(a.toISOString().split("T")[0],'",')+'"fromLocId":"'.concat(e.locID,'","toLocId":"').concat(t.locID,'"}]')},ae=function(e,t){return'"filters":{"timeFilters":[{"departFromTime":"'.concat(e,'","departToTime":"').concat(t,'"}]}')},ne=$,re={from:null,to:null,date:new Date(Date.now()),timeRange:[0,2400],selectedFlight:null,flights:[]},le=function(e){return 0===e||2400===e?"12am":e>1200?"".concat(e/100%12,"pm"):"".concat(e/100,"am")},ce=function(){var e=r.a.useState(!1),t=Object(F.a)(e,2),a=t[0],n=t[1],c=function(){var e=Object(l.b)();return Object(l.c)((function(t){return{from:t.flights.from,to:t.flights.to,date:t.flights.date,timeRange:t.flights.timeRange,selectedFlight:t.flights.selectedFlight,flights:t.flights.flights,handleToChange:function(t){return e(function(e){return{type:"SET_TO",payload:e}}(t))},handleFromChange:function(t){return e(function(e){return{type:"SET_FROM",payload:e}}(t))},handleDateChange:function(t){return e(function(e){return{type:"SET_DATE",payload:e}}(t))},handleTimeRangeChange:function(t){return e(function(e){return{type:"SET_TIME_RANGE",payload:e}}(t))},handleSelectFlight:function(t){return e(function(e){return{type:"SET_SELECTED_FLIGHT",payload:e}}(t))},setFlights:function(t){return e(function(e){return{type:"SET_FLIGHTS",payload:e}}(t))}}}))}(),i=c.from,o=c.to,u=c.date,s=c.timeRange,m=c.selectedFlight,d=c.flights,g=c.handleToChange,p=c.handleFromChange,f=c.handleDateChange,h=c.handleTimeRangeChange,v=c.handleSelectFlight,y=c.setFlights,S=r.a.useCallback(Object(j.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==i&&null!==o&&null!==u){e.next=2;break}return e.abrupt("return");case 2:return n(!0),e.t0=y,e.next=6,ne(i,o,u,s[0],s[1]);case 6:e.t1=e.sent,(0,e.t0)(e.t1),n(!1);case 9:case"end":return e.stop()}}),e)}))),[i,o,u,s,y]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,{container:!0,spacing:3,justify:"space-evenly"},r.a.createElement(N.a,{item:!0,xs:12,sm:6},r.a.createElement(B,{value:i,handleChange:p,label:"Flying from"})),r.a.createElement(N.a,{item:!0,xs:12,sm:6},r.a.createElement(B,{value:o,handleChange:g,label:"Destination"})),r.a.createElement(L.a,{utils:D.a},r.a.createElement(N.a,{item:!0,xs:12},r.a.createElement(_.a,{required:!0,label:"Departing Date",inputVariant:"outlined",value:u,onChange:f,showTodayButton:!0,style:{width:"100%"}})),r.a.createElement(N.a,{item:!0,xs:8,container:!0,spacing:1,justify:"center",alignItems:"center"},r.a.createElement(N.a,{item:!0,xs:2},r.a.createElement(b.a,{variant:"body2",align:"center"},le(s[0]))),r.a.createElement(N.a,{item:!0,xs:2,style:{textAlign:"center"}},r.a.createElement(w.a,{fontSize:"small"})),r.a.createElement(N.a,{item:!0,xs:2},r.a.createElement(b.a,{variant:"body2",align:"center"},le(s[1]))),r.a.createElement(x.a,{value:s,onChange:function(e,t){return h(t)},step:100,min:0,max:2400,marks:[{value:0,label:"12am"},{value:2400,label:"12am"}],valueLabelDisplay:"auto","aria-labelledby":"range-slider",getAriaValueText:le})),r.a.createElement(N.a,{item:!0,xs:12},r.a.createElement(E.a,{variant:"contained",color:"secondary",disabled:a||null===i||null===o||null===u||null===s,onClick:function(){return S()}},"Search"))),r.a.createElement(N.a,{item:!0,xs:12},(d.length>0||null!==m||a)&&r.a.createElement(Z,{data:d,selectedFlight:m,handleSelectFlight:v,loading:a}))))},ie={fName:null,lName:null,so:null},oe=function(){var e=function(){var e=Object(l.b)();return Object(l.c)((function(t){return{fName:t.information.fName,lName:t.information.lName,so:t.information.so,handleFirstNameChange:function(t){return e({type:"SET_FIRST_NAME",payload:""===t.target.value?null:t.target.value})},handleLastNameChange:function(t){return e({type:"SET_LAST_NAME",payload:""===t.target.value?null:t.target.value})},handleSOChange:function(t){return e({type:"SET_SO",payload:""===t.target.value?null:t.target.value})}}}))}(),t=e.fName,a=e.lName,n=e.so,c=e.handleFirstNameChange,i=e.handleLastNameChange,o=e.handleSOChange;return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{variant:"h6",gutterBottom:!0},"Your Information"),r.a.createElement(N.a,{container:!0,spacing:3},r.a.createElement(N.a,{item:!0,xs:12,sm:6},r.a.createElement(I.a,{required:!0,id:"firstName",name:"firstName",label:"First name",fullWidth:!0,autoComplete:"fname",value:t||"",onChange:c})),r.a.createElement(N.a,{item:!0,xs:12,sm:6},r.a.createElement(I.a,{required:!0,id:"lastName",name:"lastName",label:"Last name",fullWidth:!0,autoComplete:"lname",value:a||"",onChange:i})),r.a.createElement(N.a,{item:!0,xs:12},r.a.createElement(I.a,{required:!0,id:"so",name:"so",label:"SO",fullWidth:!0,autoComplete:"so",value:n||"",onChange:o}))))},ue=a(186),se=a(198),me=a(202),de=function(){var e=function(){var e=Object(l.b)();return Object(l.c)((function(t){var a=t.flights.selectedFlight;return{rows:[{label:"Flights",items:null!==a?[{label:"".concat(a.fromAirportCode," \u2192 ").concat(a.toAirportCode),icon:r.a.createElement(me.a,null),id:a.id,tooltip:"".concat(a.stops," stop(s)")}]:[],total:null===a||void 0===a?void 0:a.fare,step:1},{label:"Lodging",items:[],total:void 0,step:2},{label:"Vehicles",items:[],total:void 0,step:3}],setStep:function(t){return e(S(t))}}}))}(),t=e.rows,a=e.setStep;return r.a.createElement(M.a,null,r.a.createElement(b.a,{variant:"h6",style:{margin:"1rem 1rem 1rem 2rem"}},"Totals"),r.a.createElement(G.a,null,r.a.createElement(W.a,null,t.map((function(e){var t=e.label,n=e.items,l=e.total,c=e.step;return r.a.createElement(q.a,{key:t},r.a.createElement(z.a,{padding:"checkbox"},r.a.createElement(v.a,{component:"button",variant:"body1",onClick:function(){return a(c)}},t)),r.a.createElement(z.a,null,n.map((function(e){return r.a.createElement(ue.a,{title:e.tooltip},r.a.createElement(se.a,{key:e.id,label:e.label,icon:e.icon,clickable:!0,color:"primary"}))}))),r.a.createElement(z.a,{padding:"checkbox",align:"right"},function(e){return(null===e||void 0===e?void 0:e.toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}))||"N/A"}(l)))})),r.a.createElement(q.a,null,r.a.createElement(z.a,null),r.a.createElement(z.a,null),r.a.createElement(z.a,{align:"right",padding:"checkbox"},t.reduce((function(e,t){return e+(t.total||0)}),0).toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2})))),r.a.createElement(V.a,null,r.a.createElement(q.a,null))))},ge=Object(u.a)((function(e){return{appBar:{position:"relative"},layout:Object(o.a)({width:"auto",marginLeft:e.spacing(2),marginRight:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(2)),{width:800,marginLeft:"auto",marginRight:"auto"}),paper:Object(o.a)({marginTop:e.spacing(3),marginBottom:e.spacing(3),padding:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(3)),{marginTop:e.spacing(6),marginBottom:e.spacing(6),padding:e.spacing(3)}),stepper:{padding:e.spacing(3,0,5)},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)}}})),pe=["Information","Flights","Lodging","Car Rentals","Confirmation"],fe=function(){var e=ge(),t=function(){var e=Object(l.b)();return Object(l.c)((function(t){return{step:t.system.step,handleNext:function(){return e(S(t.system.step+1))},handleBack:function(){return e(S(t.system.step-1))}}}))}(),a=t.step,n=t.handleBack,c=t.handleNext;return r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,null),r.a.createElement(m.a,{position:"absolute",color:"default",className:e.appBar},r.a.createElement(d.a,null,r.a.createElement(b.a,{variant:"h6",color:"inherit",noWrap:!0},"Flight Finder"),!1)),r.a.createElement("main",{className:e.layout},r.a.createElement(g.a,{className:e.paper},r.a.createElement(b.a,{component:"h1",variant:"h4",align:"center"},"Book Flights"),r.a.createElement(p.a,{activeStep:a,className:e.stepper},pe.map((function(e){return r.a.createElement(f.a,{key:e},r.a.createElement(h.a,null,e))}))),r.a.createElement(r.a.Fragment,null,a===pe.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{variant:"h5",gutterBottom:!0},"Thank you for your order."),r.a.createElement(b.a,{variant:"subtitle1"},"Your order number is #2001539. We have emailed your order confirmation, and will send you an update when your order has shipped."),r.a.createElement("div",{className:e.buttons},r.a.createElement(E.a,{onClick:n,className:e.button},"Back"))):r.a.createElement(r.a.Fragment,null,function(e){switch(e){case 0:return r.a.createElement(oe,null);case 1:return r.a.createElement(ce,null);case 2:return r.a.createElement("div",null,"Lodging");case 3:return r.a.createElement("div",null,"Car Rentals");case 4:return r.a.createElement(de,null);default:throw new Error("Unknown step")}}(a),r.a.createElement("div",{className:e.buttons},0!==a&&r.a.createElement(E.a,{onClick:n,className:e.button},"Back"),r.a.createElement(E.a,{variant:"contained",color:"primary",onClick:c,className:e.button},a===pe.length-1?"Send Estimate":"Next"))))),r.a.createElement(b.a,{variant:"body2",color:"textSecondary",align:"center"},"Powered By ",r.a.createElement(v.a,{color:"inherit",href:"https://www.certify.com/"},"Certify Travel"))))},he=a(42),Ee=a(84),be=a(85),ve=a.n(be),ye=Object(he.combineReducers)({system:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_STEP":return Object(y.a)({},e,{step:t.payload});default:return e}},flights:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_FROM":return Object(y.a)({},e,{from:t.payload});case"SET_TO":return Object(y.a)({},e,{to:t.payload});case"SET_DATE":return Object(y.a)({},e,{date:t.payload});case"SET_TIME_RANGE":return Object(y.a)({},e,{timeRange:t.payload});case"SET_SELECTED_FLIGHT":return Object(y.a)({},e,{selectedFlight:t.payload});case"SET_FLIGHTS":return Object(y.a)({},e,{flights:t.payload});default:return e}},information:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_FIRST_NAME":return Object(y.a)({},e,{fName:t.payload});case"SET_LAST_NAME":return Object(y.a)({},e,{lName:t.payload});case"SET_SO":return Object(y.a)({},e,{so:t.payload});default:return e}}}),Se=Object(he.compose)(Object(Ee.composeWithDevTools)(),ve()()),Te=Object(he.createStore)(ye,void 0,Se);i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(l.a,{store:Te},r.a.createElement(fe,null))),document.getElementById("root"))}},[[106,1,2]]]);
//# sourceMappingURL=main.36e4c8e5.chunk.js.map